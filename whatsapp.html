<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>WhatsApp ‚Äî Investigador AI</title>
<style>
  body {
    font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: #ece5dd;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }

  .header {
    background-color: #075e54;
    color: #fff;
    display: flex;
    align-items: center;
    padding: 12px;
  }

  .back {
    cursor: pointer;
    font-size: 20px;
    margin-right: 10px;
  }

  .contact-name {
    font-weight: bold;
    font-size: 16px;
  }

  .chat-container {
    flex: 1;
    overflow-y: auto;
    padding: 12px;
    display: flex;
    flex-direction: column;
  }

  .msg {
    max-width: 75%;
    padding: 8px 12px;
    margin: 6px 0;
    border-radius: 10px;
    font-size: 14px;
    line-height: 1.4;
    position: relative;
    word-wrap: break-word;
  }

  .received {
    background-color: #fff;
    align-self: flex-start;
  }

  .sent {
    background-color: #dcf8c6;
    align-self: flex-end;
  }

  .time {
    font-size: 11px;
    color: #666;
    margin-top: 3px;
    text-align: right;
  }

  .contacts {
    background: #fff;
    flex: 1;
    overflow-y: auto;
  }

  .contact {
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
  }

  .avatar {
    background: #ccc;
    color: #fff;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
    font-weight: bold;
    font-size: 18px;
  }

  .info {
    flex: 1;
  }

  .name {
    font-weight: bold;
  }

  .preview {
    font-size: 13px;
    color: #777;
  }

  .footer {
    display: flex;
    align-items: center;
    padding: 10px;
    background: #fff;
  }

  .input {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 20px;
    background: #f0f0f0;
    font-size: 14px;
    outline: none;
  }

  .send {
    background: #128c7e;
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    font-size: 18px;
    margin-left: 8px;
    cursor: pointer;
  }
</style>
</head>
<body>

<div class="header" id="header">
  <div class="back" onclick="voltar()">‚Üê</div>
  <div class="contact-name">WhatsApp</div>
</div>

<!-- Lista de contatos -->
<div class="contacts" id="contacts"></div>

<!-- Chat -->
<div class="chat-container" id="chat" style="display:none;"></div>

<div class="footer" id="footer" style="display:none;">
  <input class="input" id="msgInput" placeholder="Digite uma mensagem" />
  <button class="send" onclick="enviar()">‚û§</button>
</div>

<script>
const contatos = [
  "Ana Silva", "Bruno Costa", "Carlos Pereira", "Daniela Souza",
  "Eduardo Lima", "Fernanda Rocha", "Gustavo Almeida", "Helena Dias",
  "Igor Martins", "Juliana Castro", "Lucas Oliveira", "Mariana Ribeiro",
  "Nathalia Torres", "Ot√°vio Nunes", "Patr√≠cia Gomes", "Rafael Santos",
  "Sofia Melo", "Tiago Rocha", "Viviane Lopes", "Yuri Fernandes"
];

const mensagens = [
  "Oi, tudo bem?", "Pode me ligar depois?", "Chego em 10 min.",
  "Vi sua mensagem, j√° te retorno.", "Beleza üëç", "Boa noite üåô",
  "Voc√™ viu o e-mail do trabalho?", "Vamos marcar algo no fim de semana?",
  "T√¥ saindo de casa.", "Valeu!"
];

const contactsDiv = document.getElementById("contacts");
const chatDiv = document.getElementById("chat");
const header = document.getElementById("header");
const footer = document.getElementById("footer");

function voltar() {
  if (chatDiv.style.display === "none") {
    location.href = "dashboard.html";
  } else {
    chatDiv.style.display = "none";
    footer.style.display = "none";
    contactsDiv.style.display = "block";
    document.querySelector(".contact-name").textContent = "WhatsApp";
  }
}

function abrirConversa(nome) {
  contactsDiv.style.display = "none";
  chatDiv.style.display = "flex";
  footer.style.display = "flex";
  document.querySelector(".contact-name").textContent = nome;
  chatDiv.innerHTML = "";
  
  const qtd = Math.floor(Math.random() * 8) + 6;
  for (let i = 0; i < qtd; i++) {
    const msg = mensagens[Math.floor(Math.random() * mensagens.length)];
    const tipo = i % 2 === 0 ? "sent" : "received";
    const div = document.createElement("div");
    div.className = "msg " + tipo;
    div.innerHTML = msg + `<div class="time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>`;
    chatDiv.appendChild(div);
  }
  chatDiv.scrollTop = chatDiv.scrollHeight;
}

function enviar() {
  const inp = document.getElementById("msgInput");
  const texto = inp.value.trim();
  if (!texto) return;
  const div = document.createElement("div");
  div.className = "msg sent";
  div.innerHTML = texto + `<div class="time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>`;
  chatDiv.appendChild(div);
  inp.value = "";
  chatDiv.scrollTop = chatDiv.scrollHeight;
  setTimeout(() => {
    const resp = mensagens[Math.floor(Math.random() * mensagens.length)];
    const rdiv = document.createElement("div");
    rdiv.className = "msg received";
    rdiv.innerHTML = resp + `<div class="time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>`;
    chatDiv.appendChild(rdiv);
    chatDiv.scrollTop = chatDiv.scrollHeight;
  }, 1500);
}

contatos.forEach(n => {
  const c = document.createElement("div");
  c.className = "contact";
  const a = document.createElement("div");
  a.className = "avatar";
  a.textContent = n.charAt(0).toUpperCase();
  const info = document.createElement("div");
  info.className = "info";
  info.innerHTML = `<div class='name'>${n}</div><div class='preview'>${mensagens[Math.floor(Math.random()*mensagens.length)]}</div>`;
  c.appendChild(a);
  c.appendChild(info);
  c.onclick = () => abrirConversa(n);
  contactsDiv.appendChild(c);
});
</script>
</body>
</html>
