<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mensagens ‚Äî App AI (Demo)</title>
<style>
:root{--bg:#000;--accent:#e50914;--muted:#9aa3ad;font-family:"Poppins",system-ui,Roboto,Arial;}
*{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:#fff;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:14px}
.header{width:100%;max-width:420px;display:flex;align-items:center;gap:8px;margin-bottom:10px}
.back{color:var(--muted);cursor:pointer}
.logo{margin:0 auto;width:64px;height:64px;object-fit:contain}
.container{width:100%;max-width:420px;background:#0f0f10;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 30px rgba(229,9,20,0.06)}
.title{color:var(--accent);font-weight:700;margin-bottom:8px}
.selector{display:flex;gap:8px;margin-bottom:8px}
.btn{background:var(--accent);color:#fff;padding:8px 10px;border-radius:8px;border:none;cursor:pointer}
.chat{max-height:60vh;overflow:auto;padding-right:6px}
.msg{margin:10px 0;display:flex;flex-direction:column;gap:4px}
.msg .bubble{padding:10px 12px;border-radius:12px;max-width:82%;font-size:14px}
.msg.sent .bubble{background:var(--accent);align-self:flex-end;color:#fff}
.msg.received .bubble{background:rgba(255,255,255,0.06);align-self:flex-start;color:#fff}
.time{font-size:11px;color:var(--muted);align-self:flex-end}
.footer{display:flex;gap:8px;margin-top:10px}
.input{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:#0b0b0b;color:#fff}
.small{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}
</style>
</head>
<body>

<div class="header">
  <div class="back" onclick="voltar()">‚Üê Voltar</div>
  <img src="logo.png" alt="Logo" class="logo" onerror="this.style.display='none'">
</div>

<div class="container">
  <div class="title" id="title">Mensagens</div>

  <div class="selector">
    <button class="btn" onclick="loadType('sms')">SMS</button>
    <button class="btn" onclick="loadType('whatsapp')">WhatsApp</button>
  </div>

  <div class="chat" id="chatBox" aria-live="polite"></div>

  <div class="footer">
    <input id="inp" class="input" placeholder="Escreva uma mensagem (demo)"/>
    <button class="btn" onclick="enviar()">Enviar</button>
  </div>

  <div class="small">Demonstra√ß√£o ‚Äî mensagens fict√≠cias geradas localmente.</div>
</div>

<script>
function voltar(){ location.href='dashboard.html'; }
function getQuery(){ const q={}; location.search.replace(/^\?/,'').split('&').forEach(p=>{ if(!p) return; const [k,v]=p.split('='); q[decodeURIComponent(k)]=v?decodeURIComponent(v):''; }); return q; }

const samples = [
  "Oi, tudo bem?",
  "Chego em 10 min",
  "Pode me enviar o endere√ßo?",
  "Confirmado, obrigado!",
  "Vamos naquele hor√°rio ent√£o",
  "Vi sua mensagem, respondo j√°",
  "T√° √≥timo üëç"
];

const chatBox = document.getElementById('chatBox');
let mode = 'sms';

function addMessage(text, type){
  const div=document.createElement('div'); div.className='msg '+(type==='sent'?'sent':'received');
  const b=document.createElement('div'); b.className='bubble'; b.textContent=text;
  const t=document.createElement('div'); t.className='time'; t.textContent=new Date().toLocaleTimeString();
  div.appendChild(b); div.appendChild(t); chatBox.appendChild(div); chatBox.scrollTop = chatBox.scrollHeight;
}

function gerar(qtd){
  chatBox.innerHTML='';
  for(let i=0;i<qtd;i++){
    const txt = samples[Math.floor(Math.random()*samples.length)];
    addMessage(txt, i%2? 'received' : 'sent');
  }
}

function loadType(t){
  mode=t;
  document.getElementById('title').textContent = (t==='whatsapp' ? 'WhatsApp ‚Äî Conversa' : 'SMS ‚Äî Conversa');
  gerar(Math.floor(Math.random()*6)+4);
}

function enviar(){
  const v = document.getElementById('inp').value.trim();
  if(!v) return;
  addMessage(v,'sent'); document.getElementById('inp').value='';
  // resposta autom√°tica demo
  setTimeout(()=> addMessage(samples[Math.floor(Math.random()*samples.length)], 'received'), 800 + Math.random()*1500);
}

// init from query
const q = getQuery();
if(q.type === 'whatsapp'){ loadType('whatsapp'); } else { loadType(q.type || 'sms'); }
</script>
</body>
</html>
